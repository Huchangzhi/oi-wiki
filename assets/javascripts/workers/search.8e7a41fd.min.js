"use strict";(()=>{var n=(e,s,t)=>new Promise((r,a)=>{var o=i=>{try{c(t.next(i))}catch(p){a(p)}},h=i=>{try{c(t.throw(i))}catch(p){a(p)}},c=i=>i.done?r(i.value):Promise.resolve(i.value).then(o,h);c((t=t.apply(e,s)).next())});Object.entries||(Object.entries=function(e){let s=[];for(let t of Object.keys(e))s.push([t,e[t]]);return s});Object.values||(Object.values=function(e){let s=[];for(let t of Object.keys(e))s.push(e[t]);return s});typeof Element!="undefined"&&(Element.prototype.scrollTo||(Element.prototype.scrollTo=function(e,s){typeof e=="object"?(this.scrollLeft=e.left,this.scrollTop=e.top):(this.scrollLeft=e,this.scrollTop=s)}),Element.prototype.replaceWith||(Element.prototype.replaceWith=function(...e){let s=this.parentNode;if(s){e.length===0&&s.removeChild(this);for(let t=e.length-1;t>=0;t--){let r=e[t];typeof r=="string"?r=document.createTextNode(r):r.parentNode&&r.parentNode.removeChild(r),t?s.insertBefore(this.previousSibling,r):s.replaceChild(r,this)}}}));var l;function u(e){return n(this,null,function*(){if(e=e.trim(),!e)return{items:[]};let t=yield(yield fetch(`${l}?s=${e}`,{credentials:"same-origin"})).json(),r=1e6;return{items:t.map(a=>(a.highlight||[""]).map(o=>({title:a.title,location:a.url.startsWith("/")?a.url.slice(1):a.url,terms:{[e]:!0},text:o.split("<em>").join("<mark>").split("</em>").join("</mark>"),score:--r})))}})}function S(e){return n(this,null,function*(){switch(e.type){case 0:return l=e.data,{type:1};case 2:return{type:3,data:yield u(e.data)};default:throw new TypeError("Invalid message type")}})}addEventListener("message",e=>n(void 0,null,function*(){postMessage(yield S(e.data))}));})();
//# sourceMappingURL=search.8e7a41fd.min.js.map

